--
-- PostgreSQL database cluster dump
--

-- Started on 2023-11-17 19:55:58

SET default_transaction_read_only = off;

SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;

--
-- Roles
--

CREATE ROLE postgres;
ALTER ROLE postgres WITH SUPERUSER INHERIT CREATEROLE CREATEDB LOGIN REPLICATION BYPASSRLS;

--
-- User Configurations
--








--
-- Databases
--

--
-- Database "template1" dump
--

\connect template1

--
-- PostgreSQL database dump
--

-- Dumped from database version 16.0
-- Dumped by pg_dump version 16.0

-- Started on 2023-11-17 19:55:58

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

-- Completed on 2023-11-17 19:55:58

--
-- PostgreSQL database dump complete
--

--
-- Database "2" dump
--

--
-- PostgreSQL database dump
--

-- Dumped from database version 16.0
-- Dumped by pg_dump version 16.0

-- Started on 2023-11-17 19:55:58

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 4858 (class 1262 OID 24751)
-- Name: 2; Type: DATABASE; Schema: -; Owner: postgres
--

CREATE DATABASE "2" WITH TEMPLATE = template0 ENCODING = 'UTF8' LOCALE_PROVIDER = libc LOCALE = 'Russian_Russia.1251';


ALTER DATABASE "2" OWNER TO postgres;

\connect "2"

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 215 (class 1259 OID 24788)
-- Name: course; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.course (
    course_id integer NOT NULL,
    course_name character varying NOT NULL,
    faculty_id integer NOT NULL
);


ALTER TABLE public.course OWNER TO postgres;

--
-- TOC entry 216 (class 1259 OID 24793)
-- Name: course_course_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.course ALTER COLUMN course_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.course_course_id_seq
    START WITH 10
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 217 (class 1259 OID 24794)
-- Name: faculty; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.faculty (
    faculty_name character varying NOT NULL,
    faculty_id integer NOT NULL
);


ALTER TABLE public.faculty OWNER TO postgres;

--
-- TOC entry 218 (class 1259 OID 24799)
-- Name: faculty_faculty_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.faculty ALTER COLUMN faculty_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.faculty_faculty_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 219 (class 1259 OID 24800)
-- Name: university_group; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.university_group (
    group_id integer NOT NULL,
    group_name character varying NOT NULL,
    course_id integer NOT NULL
);


ALTER TABLE public.university_group OWNER TO postgres;

--
-- TOC entry 4848 (class 0 OID 24788)
-- Dependencies: 215
-- Data for Name: course; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.course (course_id, course_name, faculty_id) FROM stdin;
2	Второй	1
4	Четвёртый	1
1	Первый	1
5	Первый	2
6	Второй	2
3	Третий	1
7	Третий	2
8	Четвёртый	2
9	Пятый	1
18	Курс	5
\.


--
-- TOC entry 4850 (class 0 OID 24794)
-- Dependencies: 217
-- Data for Name: faculty; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.faculty (faculty_name, faculty_id) FROM stdin;
Физфак	2
Мехмат	1
Факультет	5
\.


--
-- TOC entry 4852 (class 0 OID 24800)
-- Dependencies: 219
-- Data for Name: university_group; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.university_group (group_id, group_name, course_id) FROM stdin;
1	ПМИ12	1
3	ПМИ12	2
4	ПМИ34	2
5	РФЗ12	5
7	РФЗ12	6
10	ПМИ1	4
11	ПМИ34	1
16	РФЗ34	5
17	РФЗ34	6
18	ПМИ56	1
21	ПМИ12	3
22	РФЗ12	7
23	РФЗ12	8
24	ПМИ34	3
25	Шестой	9
32	Группа2	18
33	Группа3	18
31	Группа1	18
\.


--
-- TOC entry 4859 (class 0 OID 0)
-- Dependencies: 216
-- Name: course_course_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.course_course_id_seq', 10, true);


--
-- TOC entry 4860 (class 0 OID 0)
-- Dependencies: 218
-- Name: faculty_faculty_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.faculty_faculty_id_seq', 1, false);


--
-- TOC entry 4698 (class 2606 OID 24806)
-- Name: course course_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.course
    ADD CONSTRAINT course_pk PRIMARY KEY (course_id);


--
-- TOC entry 4700 (class 2606 OID 24808)
-- Name: faculty faculty_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.faculty
    ADD CONSTRAINT faculty_pk PRIMARY KEY (faculty_id);


--
-- TOC entry 4702 (class 2606 OID 24810)
-- Name: university_group group_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.university_group
    ADD CONSTRAINT group_pk PRIMARY KEY (group_id);


--
-- TOC entry 4703 (class 2606 OID 40998)
-- Name: course course_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.course
    ADD CONSTRAINT course_fk FOREIGN KEY (faculty_id) REFERENCES public.faculty(faculty_id) ON DELETE CASCADE;


--
-- TOC entry 4704 (class 2606 OID 40993)
-- Name: university_group group_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.university_group
    ADD CONSTRAINT group_fk FOREIGN KEY (course_id) REFERENCES public.course(course_id) ON DELETE CASCADE;


-- Completed on 2023-11-17 19:55:58

--
-- PostgreSQL database dump complete
--

--
-- Database "HP" dump
--

--
-- PostgreSQL database dump
--

-- Dumped from database version 16.0
-- Dumped by pg_dump version 16.0

-- Started on 2023-11-17 19:55:58

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 4881 (class 1262 OID 24710)
-- Name: HP; Type: DATABASE; Schema: -; Owner: postgres
--

CREATE DATABASE "HP" WITH TEMPLATE = template0 ENCODING = 'UTF8' LOCALE_PROVIDER = libc LOCALE = 'Russian_Russia.1251';


ALTER DATABASE "HP" OWNER TO postgres;

\connect "HP"

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 235 (class 1255 OID 24737)
-- Name: get_next_id(character varying, character varying); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.get_next_id(table_name character varying, column_name character varying) RETURNS integer
    LANGUAGE plpgsql
    AS $$
DECLARE
max_id INTEGER;
next_id INTEGER;
BEGIN
-- Проверка наличия записи в специальной таблице
SELECT current_max_value
INTO max_id
FROM special_table
WHERE table_name = get_next_id.table_name AND column_name = get_next_id.column_name;

IF max_id IS NULL THEN
-- Получение максимального значения из запрашиваемой таблицы
EXECUTE FORMAT('SELECT MAX(%I) FROM %I', get_next_id.column_name, get_next_id.table_name)
INTO max_id;

-- Если нет значений, установка следующего идентификатора в 1
IF max_id IS NULL THEN
next_id := 1;
ELSE
next_id := max_id + 1;
END IF;

-- Запись новой строки в специальную таблицу
INSERT INTO special_table (table_name, column_name, current_max_value)
VALUES (get_next_id.table_name, get_next_id.column_name, next_id);
ELSE
-- Инкрементирование текущего максимального значения
UPDATE special_table
SET current_max_value = current_max_value + 1
WHERE table_name = get_next_id.table_name AND column_name = get_next_id.column_name;

-- Получение следующего значения
SELECT current_max_value
INTO next_id
FROM special_table
WHERE table_name = get_next_id.table_name AND column_name = get_next_id.column_name;
END IF;

-- Возвращение значения пользователю
RETURN next_id;
END;
$$;


ALTER FUNCTION public.get_next_id(table_name character varying, column_name character varying) OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 215 (class 1259 OID 24720)
-- Name: Special; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Special" (
    id integer NOT NULL,
    table_name character varying NOT NULL,
    column_name character varying NOT NULL,
    max_value integer NOT NULL
);


ALTER TABLE public."Special" OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 24752)
-- Name: course; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.course (
    course_id integer NOT NULL,
    course_name character varying NOT NULL,
    faculty_id integer NOT NULL
);


ALTER TABLE public.course OWNER TO postgres;

--
-- TOC entry 220 (class 1259 OID 24757)
-- Name: course_course_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.course ALTER COLUMN course_id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.course_course_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 221 (class 1259 OID 24758)
-- Name: faculty; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.faculty (
    faculty_name character varying NOT NULL,
    faculty_id integer NOT NULL
);


ALTER TABLE public.faculty OWNER TO postgres;

--
-- TOC entry 222 (class 1259 OID 24763)
-- Name: faculty_faculty_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.faculty ALTER COLUMN faculty_id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.faculty_faculty_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 217 (class 1259 OID 24729)
-- Name: special_table; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.special_table (
    id integer NOT NULL,
    table_name character varying(255),
    column_name character varying(255),
    current_max_value integer
);


ALTER TABLE public.special_table OWNER TO postgres;

--
-- TOC entry 216 (class 1259 OID 24728)
-- Name: special_table_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.special_table_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.special_table_id_seq OWNER TO postgres;

--
-- TOC entry 4882 (class 0 OID 0)
-- Dependencies: 216
-- Name: special_table_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.special_table_id_seq OWNED BY public.special_table.id;


--
-- TOC entry 218 (class 1259 OID 24738)
-- Name: test; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.test (
    id integer
);


ALTER TABLE public.test OWNER TO postgres;

--
-- TOC entry 223 (class 1259 OID 24764)
-- Name: university_group; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.university_group (
    group_id integer NOT NULL,
    group_name character varying NOT NULL,
    course_id integer NOT NULL
);


ALTER TABLE public.university_group OWNER TO postgres;

--
-- TOC entry 4711 (class 2604 OID 24785)
-- Name: special_table id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.special_table ALTER COLUMN id SET DEFAULT nextval('public.special_table_id_seq'::regclass);


--
-- TOC entry 4867 (class 0 OID 24720)
-- Dependencies: 215
-- Data for Name: Special; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Special" (id, table_name, column_name, max_value) FROM stdin;
1	spec	id	1
\.


--
-- TOC entry 4871 (class 0 OID 24752)
-- Dependencies: 219
-- Data for Name: course; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.course (course_id, course_name, faculty_id) FROM stdin;
\.


--
-- TOC entry 4873 (class 0 OID 24758)
-- Dependencies: 221
-- Data for Name: faculty; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.faculty (faculty_name, faculty_id) FROM stdin;
\.


--
-- TOC entry 4869 (class 0 OID 24729)
-- Dependencies: 217
-- Data for Name: special_table; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.special_table (id, table_name, column_name, current_max_value) FROM stdin;
1	spec	id	1
\.


--
-- TOC entry 4870 (class 0 OID 24738)
-- Dependencies: 218
-- Data for Name: test; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.test (id) FROM stdin;
10
\.


--
-- TOC entry 4875 (class 0 OID 24764)
-- Dependencies: 223
-- Data for Name: university_group; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.university_group (group_id, group_name, course_id) FROM stdin;
\.


--
-- TOC entry 4883 (class 0 OID 0)
-- Dependencies: 220
-- Name: course_course_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.course_course_id_seq', 1, false);


--
-- TOC entry 4884 (class 0 OID 0)
-- Dependencies: 222
-- Name: faculty_faculty_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.faculty_faculty_id_seq', 1, false);


--
-- TOC entry 4885 (class 0 OID 0)
-- Dependencies: 216
-- Name: special_table_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.special_table_id_seq', 1, true);


--
-- TOC entry 4717 (class 2606 OID 24770)
-- Name: course course_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.course
    ADD CONSTRAINT course_pk PRIMARY KEY (course_id);


--
-- TOC entry 4719 (class 2606 OID 24772)
-- Name: faculty faculty_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.faculty
    ADD CONSTRAINT faculty_pk PRIMARY KEY (faculty_id);


--
-- TOC entry 4721 (class 2606 OID 24774)
-- Name: university_group group_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.university_group
    ADD CONSTRAINT group_pk PRIMARY KEY (group_id);


--
-- TOC entry 4713 (class 2606 OID 24726)
-- Name: Special special_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Special"
    ADD CONSTRAINT special_pk PRIMARY KEY (id);


--
-- TOC entry 4715 (class 2606 OID 24736)
-- Name: special_table special_table_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.special_table
    ADD CONSTRAINT special_table_pkey PRIMARY KEY (id);


--
-- TOC entry 4722 (class 2606 OID 24775)
-- Name: course course_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.course
    ADD CONSTRAINT course_fk FOREIGN KEY (faculty_id) REFERENCES public.faculty(faculty_id);


--
-- TOC entry 4723 (class 2606 OID 24780)
-- Name: university_group group_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.university_group
    ADD CONSTRAINT group_fk FOREIGN KEY (course_id) REFERENCES public.course(course_id);


-- Completed on 2023-11-17 19:55:59

--
-- PostgreSQL database dump complete
--

--
-- Database "Zelye" dump
--

--
-- PostgreSQL database dump
--

-- Dumped from database version 16.0
-- Dumped by pg_dump version 16.0

-- Started on 2023-11-17 19:55:59

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 4868 (class 1262 OID 32800)
-- Name: Zelye; Type: DATABASE; Schema: -; Owner: postgres
--

CREATE DATABASE "Zelye" WITH TEMPLATE = template0 ENCODING = 'UTF8' LOCALE_PROVIDER = libc LOCALE = 'Russian_Russia.1251';


ALTER DATABASE "Zelye" OWNER TO postgres;

\connect "Zelye"

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 216 (class 1259 OID 32802)
-- Name: z_type; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.z_type (
    id integer NOT NULL,
    name character varying NOT NULL
);


ALTER TABLE public.z_type OWNER TO postgres;

--
-- TOC entry 215 (class 1259 OID 32801)
-- Name: Type_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.z_type ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Type_id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 221 (class 1259 OID 32823)
-- Name: ind; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.ind (
    id integer NOT NULL,
    name character varying NOT NULL,
    price integer NOT NULL
);


ALTER TABLE public.ind OWNER TO postgres;

--
-- TOC entry 220 (class 1259 OID 32822)
-- Name: ind_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.ind ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.ind_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 217 (class 1259 OID 32809)
-- Name: recept; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.recept (
    id_zelya integer NOT NULL,
    id_ind integer NOT NULL,
    count integer NOT NULL
);


ALTER TABLE public.recept OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 32815)
-- Name: zelye; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.zelye (
    id integer NOT NULL,
    z_name character varying NOT NULL,
    complexity integer NOT NULL,
    id_type integer NOT NULL
);


ALTER TABLE public.zelye OWNER TO postgres;

--
-- TOC entry 218 (class 1259 OID 32814)
-- Name: zelye_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.zelye ALTER COLUMN id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.zelye_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 4862 (class 0 OID 32823)
-- Dependencies: 221
-- Data for Name: ind; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.ind (id, name, price) FROM stdin;
1	корень хуйни	34
2	пизда	21
3	корень пизды	55
4	эсс	300
\.


--
-- TOC entry 4858 (class 0 OID 32809)
-- Dependencies: 217
-- Data for Name: recept; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.recept (id_zelya, id_ind, count) FROM stdin;
1	1	5
1	3	4
2	4	1
\.


--
-- TOC entry 4857 (class 0 OID 32802)
-- Dependencies: 216
-- Data for Name: z_type; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.z_type (id, name) FROM stdin;
1	лёгкая сл
2	средняя сл
3	Усыпляющее
\.


--
-- TOC entry 4860 (class 0 OID 32815)
-- Dependencies: 219
-- Data for Name: zelye; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.zelye (id, z_name, complexity, id_type) FROM stdin;
2	пиздец	5	2
3	ёбнуться	3	2
5	вфыв	1	3
6	ывфы	4	2
7	выфв	3	3
8	вфывф	2	1
1	хуёвое на 100%	3	1
4	ахуй 5%	2	1
9	10%	10	3
\.


--
-- TOC entry 4869 (class 0 OID 0)
-- Dependencies: 215
-- Name: Type_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Type_id_seq"', 3, true);


--
-- TOC entry 4870 (class 0 OID 0)
-- Dependencies: 220
-- Name: ind_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.ind_id_seq', 4, true);


--
-- TOC entry 4871 (class 0 OID 0)
-- Dependencies: 218
-- Name: zelye_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.zelye_id_seq', 9, true);


--
-- TOC entry 4709 (class 2606 OID 32829)
-- Name: ind ind_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ind
    ADD CONSTRAINT ind_pk PRIMARY KEY (id);


--
-- TOC entry 4705 (class 2606 OID 32813)
-- Name: recept recept_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.recept
    ADD CONSTRAINT recept_pk PRIMARY KEY (id_zelya, id_ind);


--
-- TOC entry 4703 (class 2606 OID 32808)
-- Name: z_type type_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.z_type
    ADD CONSTRAINT type_pk PRIMARY KEY (id);


--
-- TOC entry 4707 (class 2606 OID 32821)
-- Name: zelye zelye_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.zelye
    ADD CONSTRAINT zelye_pk PRIMARY KEY (id);


--
-- TOC entry 4710 (class 2606 OID 32830)
-- Name: recept recept_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.recept
    ADD CONSTRAINT recept_fk FOREIGN KEY (id_ind) REFERENCES public.ind(id);


--
-- TOC entry 4711 (class 2606 OID 32845)
-- Name: recept recept_fk2; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.recept
    ADD CONSTRAINT recept_fk2 FOREIGN KEY (id_zelya) REFERENCES public.zelye(id);


--
-- TOC entry 4712 (class 2606 OID 32840)
-- Name: zelye zelye_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.zelye
    ADD CONSTRAINT zelye_fk FOREIGN KEY (id_type) REFERENCES public.z_type(id);


-- Completed on 2023-11-17 19:55:59

--
-- PostgreSQL database dump complete
--

-- Completed on 2023-11-17 19:55:59

--
-- PostgreSQL database cluster dump complete
--

